<view class="document-container">
  <!-- 头部导航 -->
  <view class="header">
    <view class="back-btn" bindtap="navigateBack">
      <text class="back-icon">←</text>
    </view>
    <view class="title-box">
      <text class="title">{{caseData.caseName || caseData.title}}</text>
      <text class="subtitle">{{caseData.category || '典型案例'}}</text>
    </view>
    <view class="share-btn" bindtap="shareCase">
      <text class="share-icon">⋯</text>
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 文档内容 -->
  <view class="document-content" wx:if="{{!loading && caseData}}">
    <!-- 文件内容显示区域 -->
    <view class="file-content-display" wx:if="{{fileContent}}">
      <!-- 图片文件显示 -->
      <view class="image-display" wx:if="{{imageUrl}}">
        <image class="content-image" src="{{imageUrl}}" mode="widthFix" bindtap="previewImage"></image>
      </view>
      
      <!-- 文本内容显示 -->
      <view class="content-body" wx:if="{{!imageUrl}}">
        <text class="content-text">{{fileContent}}</text>
      </view>
    </view>
  </view>

  <!-- 错误状态 -->
  <view class="error-container" wx:if="{{!loading && !caseData}}">
    <text class="error-icon">❌</text>
    <text class="error-title">加载失败</text>
    <text class="error-desc">无法获取案例详情，请重试</text>
    <text class="retry-btn" bindtap="loadCaseDetail">重新加载</text>
  </view>
</view>
