<view class="webview-container">
  <!-- 加载状态 -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">正在加载网页...</text>
  </view>
  
  <!-- 错误状态 -->
  <view class="error-container" wx:if="{{error}}">
    <text class="error-icon">❌</text>
    <text class="error-title">加载失败</text>
    <text class="error-desc">{{errorMessage}}</text>
    <view class="error-actions">
      <text class="action-btn retry-btn" bindtap="retryLoad">重新加载</text>
      <text class="action-btn copy-btn" bindtap="copyUrl">复制链接</text>
      <text class="action-btn back-btn" bindtap="goBack">返回</text>
    </view>
  </view>
  
  <!-- 本地文件信息显示 -->
  <view class="local-file-info" wx:if="{{!loading && !error && isLocal}}">
    <view class="file-header">
      <text class="file-icon">📄</text>
      <text class="file-title">{{fileName}}</text>
    </view>
    <view class="file-details">
      <view class="detail-item">
        <text class="detail-label">文件路径：</text>
        <text class="detail-value">{{originalUrl}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">文件类型：</text>
        <text class="detail-value">{{fileName.split('.').pop().toUpperCase()}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">状态：</text>
        <text class="detail-value local-status">本地文件</text>
      </view>
    </view>
    <view class="file-actions">
      <text class="action-btn info-btn">此文件存储在本地计算机上</text>
    </view>
  </view>

  <!-- WebView -->
  <web-view wx:if="{{!loading && !error && webUrl && !isLocal}}" 
            src="{{webUrl}}" 
            bindload="onWebViewLoad"
            binderror="onWebViewError">
  </web-view>
</view>
