# 页面跳转配置说明

## 当前配置状态

### ✅ 已完成的配置

1. **页面路径配置**：
   - `pages/index/index` - 首页（已配置在 tabBar 中）
   - `pages/admin/admin` - 权限管理页面（已配置在 pages 中）

2. **跳转逻辑配置**：

#### 普通登录按钮
- **跳转目标**：`pages/index/index`
- **跳转方式**：`wx.switchTab`
- **跳转时机**：登录成功后1.5秒
- **存储信息**：
  - `userInfo` - 用户信息
  - `isLoggedIn` - 登录状态
  - `loginType` - 登录类型（'normal'）

#### 权限管理登录按钮
- **跳转目标**：`pages/admin/admin`
- **跳转方式**：`wx.navigateTo`
- **跳转参数**：`name` 和 `phone`
- **跳转时机**：登录成功后1.5秒
- **存储信息**：
  - `userInfo` - 用户信息
  - `isLoggedIn` - 登录状态
  - `loginType` - 登录类型（'admin'）

### 🔧 技术实现细节

1. **普通登录跳转**：
```javascript
wx.switchTab({
  url: '/pages/index/index'
});
```
- 使用 `switchTab` 因为 index 页面在 tabBar 中
- 会切换到首页标签页

2. **权限管理登录跳转**：
```javascript
wx.navigateTo({
  url: '/pages/admin/admin?name=' + encodeURIComponent(user.name) + '&phone=' + user.phone
});
```
- 使用 `navigateTo` 因为 admin 页面不在 tabBar 中
- 传递用户姓名和手机号作为参数

### 📱 用户体验

1. **登录成功提示**：
   - 普通登录：显示"普通登录成功"
   - 权限管理登录：显示"权限管理登录成功"

2. **跳转延迟**：
   - 统一使用1.5秒延迟，让用户看到成功提示后再跳转

3. **数据持久化**：
   - 登录信息会保存到本地存储
   - 便于其他页面判断用户登录状态和类型

## 测试建议

1. **测试普通登录**：
   - 输入正确的手机号/微信号和密码
   - 点击"普通登录"按钮
   - 确认跳转到首页

2. **测试权限管理登录**：
   - 输入正确的手机号/微信号和密码
   - 点击"权限管理登录"按钮
   - 确认跳转到权限管理页面

3. **测试参数传递**：
   - 在权限管理页面检查是否接收到用户姓名和手机号

4. **测试存储信息**：
   - 检查本地存储中是否正确保存了用户信息和登录类型 