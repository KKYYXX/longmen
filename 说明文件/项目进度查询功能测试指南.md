# 项目进度查询功能测试指南

## 测试环境准备

### 1. 后端接口要求
确保以下两个后端接口正常运行：
- `http://127.0.0.1:5000/app/api/progress/times` (GET)
- `http://127.0.0.1:5000/app/api/progress/detail` (GET)

### 2. 测试数据准备
在数据库中准备一些测试项目数据，包含：
- 项目名称
- 项目进度记录
- 不同时间段的进度信息

## 功能测试步骤

### 第一步：进入项目查询页面
1. 打开微信开发者工具
2. 进入 `fifteenprojectsquery` 页面
3. 确认页面正常加载，显示项目列表

### 第二步：查看项目详情
1. 点击任意一个项目记录
2. 确认项目详情弹窗正常显示
3. 检查弹窗中是否包含"进度查询"区域

### 第三步：测试预设时间范围查询
1. 在进度查询区域，点击"最近一周"按钮
2. 观察是否显示"正在查询进度记录..."加载提示
3. 检查控制台日志，确认接口调用情况
4. 验证结果是否正确显示

### 第四步：测试其他时间范围
依次测试以下时间范围按钮：
- 最近一月
- 最近三月
- 最近半年
- 最近一年

### 第五步：测试自定义时间查询
1. 选择自定义开始日期
2. 选择自定义结束日期
3. 点击"查询"按钮
4. 验证查询结果

### 第六步：测试边界情况
1. **无数据情况**：选择没有进度记录的时间范围
2. **错误处理**：断开网络连接，测试错误提示
3. **数据格式**：测试不同格式的进度数据

## 接口测试验证

### 1. 进度时间接口测试
```bash
# 测试接口响应
curl "http://127.0.0.1:5000/app/api/progress/times?project_name=测试项目名称"

# 预期响应格式
{
  "success": true,
  "data": [
    "2024-01-15",
    "2024-01-16",
    "2024-01-17"
  ]
}
```

### 2. 进度详情接口测试
```bash
# 测试接口响应
curl "http://127.0.0.1:5000/app/api/progress/detail?project_name=测试项目名称&start_date=2024-01-15&end_date=2024-01-17"

# 预期响应格式
{
  "success": true,
  "data": [
    {
      "id": 1,
      "person": "张三",
      "time": "09:30",
      "location": "项目现场",
      "content": "项目启动会议",
      "date": "2024-01-15"
    }
  ]
}
```

## 前端功能验证

### 1. 时间计算验证
检查各个时间范围按钮是否正确计算时间：
- 最近一周：当前日期 - 7天
- 最近一月：当前日期 - 1个月
- 最近三月：当前日期 - 3个月
- 最近半年：当前日期 - 6个月
- 最近一年：当前日期 - 1年

### 2. 数据展示验证
确认进度记录正确显示：
- 人员信息
- 时间信息
- 地点信息
- 工作内容
- 日期信息

### 3. 状态管理验证
检查各种状态下的UI表现：
- 加载状态
- 空数据状态
- 错误状态
- 成功状态

## 错误处理测试

### 1. 网络错误测试
1. 断开网络连接
2. 尝试查询进度
3. 确认显示"网络请求失败"提示

### 2. 接口错误测试
1. 修改后端接口返回错误状态
2. 确认前端正确显示错误信息
3. 验证错误日志记录

### 3. 数据格式错误测试
1. 后端返回异常数据格式
2. 确认前端能正确处理并显示
3. 验证容错机制

## 性能测试

### 1. 响应时间测试
- 记录接口响应时间
- 确认在可接受范围内（建议 < 2秒）

### 2. 数据量测试
- 测试大量进度记录时的显示性能
- 确认页面滚动流畅

### 3. 内存使用测试
- 多次查询不同项目
- 确认内存使用正常，无泄漏

## 兼容性测试

### 1. 设备兼容性
- 在不同尺寸的设备上测试
- 确认UI布局正常

### 2. 微信版本兼容性
- 在不同微信版本上测试
- 确认功能正常

## 测试结果记录

### 测试用例表格
| 测试项目 | 测试结果 | 备注 |
|---------|---------|------|
| 预设时间范围查询 | ✅/❌ | |
| 自定义时间查询 | ✅/❌ | |
| 接口调用 | ✅/❌ | |
| 错误处理 | ✅/❌ | |
| 数据展示 | ✅/❌ | |
| 性能表现 | ✅/❌ | |

### 问题记录
记录测试过程中发现的问题：
1. **问题描述**：
2. **复现步骤**：
3. **预期结果**：
4. **实际结果**：
5. **严重程度**：高/中/低
6. **修复建议**：

## 测试完成标准

### 功能完整性
- [ ] 所有时间范围按钮正常工作
- [ ] 自定义时间选择功能正常
- [ ] 进度记录正确显示
- [ ] 错误情况正确处理

### 用户体验
- [ ] 加载状态清晰显示
- [ ] 错误提示友好易懂
- [ ] 操作流程顺畅
- [ ] 响应时间可接受

### 接口对接
- [ ] 两个后端接口正常调用
- [ ] 数据格式正确解析
- [ ] 错误情况妥善处理
- [ ] 日志记录完整

## 测试完成后

1. **问题修复**：根据测试结果修复发现的问题
2. **功能优化**：根据测试反馈优化用户体验
3. **文档更新**：更新相关技术文档
4. **部署验证**：在生产环境中验证功能正常
